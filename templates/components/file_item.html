<a href="{{ url_for('admin.file_page', file_name=file) }}" class="block group">
  <div
    class="relative overflow-hidden rounded-lg border border-[var(--border-color)] bg-[var(--bg-color)] hover:border-[var(--main-color)] transition-all duration-200 h-full"
  >
    {% set file_ext = file.split('.')[-1].lower() %} {% if file_ext in ['jpg',
    'jpeg', 'png', 'gif', 'webp', 'svg'] %}
    <div class="aspect-square overflow-hidden">
      <img
        src="{{ url_for('admin.serve_file', file_name=file) }}"
        alt="{{ file }}"
        class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
        loading="lazy"
      />
    </div>
    {% else %}
    <div
      class="aspect-square flex items-center justify-center bg-[var(--border-color)]"
    >
      <div class="text-center p-4">
        <div
          class="w-12 h-12 mx-auto mb-2 rounded-lg bg-gray-600 flex items-center justify-center"
        >
          <span class="text-xl font-bold text-[var(--sec-text)]"
            >{{ file_ext.upper() }}</span
          >
        </div>
        <span class="text-xs text-[var(--sec-text)]">File</span>
      </div>
    </div>
    {% endif %}
    <div class="p-3">
      <p class="text-sm font-medium truncate">{{ file }}</p>
      <div class="flex justify-between items-center mt-2">
        <span class="text-xs text-[var(--sec-text)]"
          >{{ file_ext.upper() }}</span
        >
        <button
          class="text-[var(--sec-text)] hover:text-[var(--main-color)] transition-colors invisible group-hover:visible"
        >
          <i data-lucide="more-horizontal" class="w-4 h-4"></i>
        </button>
      </div>
    </div>
  </div>
</a>
